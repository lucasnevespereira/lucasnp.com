<!DOCTYPE html>
<html lang="en-us"><head>
    <meta charset="utf-8">
<meta http-equiv="content-type" content="text/html">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title itemprop="name">Write a Simple REST API in Golang | Lucas Neves Pereira</title>
<meta property="og:title" content="Write a Simple REST API in Golang | Lucas Neves Pereira" />
<meta name="twitter:title" content="Write a Simple REST API in Golang | Lucas Neves Pereira" />
<meta itemprop="name" content="Write a Simple REST API in Golang | Lucas Neves Pereira" />
<meta name="application-name" content="Write a Simple REST API in Golang | Lucas Neves Pereira" />
<meta property="og:site_name" content="Lucas Neves Pereira" />

<meta name="description" content="In this brief article I will explain how I write a  simple REST API using Golang.">
<meta itemprop="description" content="In this brief article I will explain how I write a  simple REST API using Golang." />
<meta property="og:description" content="In this brief article I will explain how I write a  simple REST API using Golang." />
<meta name="twitter:description" content="In this brief article I will explain how I write a  simple REST API using Golang." />

<meta property="og:locale" content="en-us" />
<meta name="language" content="en-us" />



  <meta itemprop="image" content="https://lucasnp.com/" />
  <meta property="og:image" content="https://lucasnp.com/" />
  <meta name="twitter:image" content="https://lucasnp.com/" />
  <meta name="twitter:image:src" content="https://lucasnp.com/" />




    
    
    
    

    <meta property="og:type" content="article" />
    <meta property="og:article:published_time" content=2021-04-13T12:48:39Z />
    <meta property="article:published_time" content=2021-04-13T12:48:39Z />

    

    

    <script defer type="application/ld+json">
    {
        "@context": "http://schema.org",
        "@type": "Article",
        "headline": "Write a Simple REST API in Golang",
        "author": {
        "@type": "Person",
        "name": ""
        },
        "datePublished": "2021-04-13",
        "description": "In this brief article I will explain how I write a  simple REST API using Golang.",
        "wordCount":  1501 ,
        "mainEntityOfPage": "True",
        "dateModified": "2021-04-13",
        "image": {
        "@type": "imageObject",
        "url": ""
        },
        "publisher": {
        "@type": "Organization",
        "name": "Lucas Neves Pereira"
        }
    }
    </script>



    <meta name="generator" content="Hugo 0.105.0">

    

    <link rel="canonical" href="https://lucasnp.com/posts/write-a-simple-rest-api-in-golang/"><link href="/sass/main.min.158c80242c457d20264317ab3fca3d9851c186f360bc7f388ef48bc6c9571b0f.css" rel="stylesheet"><link href="/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css" rel="stylesheet">

    

    <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon/favicon-16x16.png">
    <link rel="manifest" href="/images/favicon/site.webmanifest">
    <link rel="mask-icon" href="/images/favicon/safari-pinned-tab.svg" color="#5bbad5">
    <link rel="shortcut icon" href="/images/favicon/favicon.ico">
    <meta name="msapplication-TileColor" content="#2b5797">
    <meta name="msapplication-config" content="/images/favicon/browserconfig.xml">
    <meta name="theme-color" content="#ffffff">

    
    <link rel="icon" type="image/svg+xml" href="/images/favicon/favicon.svg">

    
    </head>
<body data-theme = "auto" class="notransition">
<script src="/js/themeLoader.min.3c3396ae9effcbd02e7064baa7b435ffe6560bcd7fec0b428a470d3a128f2220.js"></script>
<div class="navbar" role="navigation">
    <nav class="menu" aria-label="Main Navigation">
        <a href="/" class="logo">
            <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" 
viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" 
stroke-linejoin="round" class="feather feather-home">
<title>Home</title>
<path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
<polyline points="9 22 9 12 15 12 15 22"></polyline>
</svg>
        </a>
        <input type="checkbox" id="menu-trigger" class="menu-trigger" />
        <label for="menu-trigger">
            <span class="menu-icon">
                <svg xmlns="http://www.w3.org/2000/svg"  viewBox="0 0 30 30" width="30px" height="30px"><path d="M 3 7 A 1.0001 1.0001 0 1 0 3 9 L 27 9 A 1.0001 1.0001 0 1 0 27 7 L 3 7 z M 3 14 A 1.0001 1.0001 0 1 0 3 16 L 27 16 A 1.0001 1.0001 0 1 0 27 14 L 3 14 z M 3 21 A 1.0001 1.0001 0 1 0 3 23 L 27 23 A 1.0001 1.0001 0 1 0 27 21 L 3 21 z"/></svg>
            </span>
        </label>

        <div class="trigger">
            <ul class="trigger-container">
                
                
                <li>
                    <a class="menu-link " href="/pages/about/">
                        About
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link " href="/projects/">
                        Projects
                    </a>
                    
                </li>
                
                <li>
                    <a class="menu-link active" href="/posts/">
                        Posts
                    </a>
                    
                </li>
                
                <li class="menu-separator">
                    <span>|</span>
                </li>
            </ul>
            <a id="mode" href="#">
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
                <svg xmlns="http://www.w3.org/2000/svg" class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1">
<title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></circle><line x1="7" y1="0.5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="0.5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"></line><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"></line></g></svg>
            </a>
        </div>
    </nav>
</div>

<div class="wrapper post">
  <main class="page-content" aria-label="Content">
    <article>
      <header class="header">
        <h1 class="header-title">Write a Simple REST API in Golang</h1>
         
        <div class="post-meta">
          <time datetime="2021-04-13T12:48:39&#43;00:00" itemprop="datePublished">
            13 Apr 2021
          </time>
        </div>
        
      </header>
      <div class="page-content"><p><img src="banner.png" alt="write golang api image" title="write golang api image"></p>
<p>Hello there üòÄ</p>
<p>In this brief article I will explain how I write a <strong>REST API</strong> using <strong>Golang</strong> trying to follow some best practices.</p>
<p>The source code to follow along if needed is <a href="https://github.com/lucasnevespereira/posts-rest-api">here</a>.</p>
<h1 id="lets-do-this-">Let&rsquo;s do this üëçüèª</h1>
<p>As an example we&rsquo;ll be creating a very simple Post API.</p>
<h2 id="structure-the-project">Structure the project</h2>
<p>Let&rsquo;s jump to our terminal and create a new directory for our project and then init a go module.</p>
<pre tabindex="0"><code>mkdir postapi
cd postapi
go mod init postapi
</code></pre><p><b>Note: </b> Best practice for module naming is to use <code>&lt;domain&gt;/&lt;nameOfApp&gt;</code></p>
<p>Now that we have this let&rsquo;s open our project in our favorite code editor and create a <code>main.go</code> file with a package main. This will be the entry point of our application.</p>
<p>Next, create a package <strong>app</strong> with a <code>app.go</code> file</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/dpv5efmlpn37hhb19koz.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 19.01.50"></p>
<p>Inside of it we are going to create an <strong>App struct</strong> that will represent the structure of our app. There will be two fields on this struct, our app is going to have a <strong>DB</strong> and a <strong>Router</strong>.
The router will be a <a href="https://github.com/gorilla/mux">gorilla/mux</a> router, so let&rsquo;s go ahead and and import it:</p>
<pre tabindex="0"><code>go get -u github.com/gorilla/mux
</code></pre><p>Let&rsquo;s add it to our struct
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/i8n44k0eiffess0qw7kl.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 19.13.02"></p>
<p>Now we are gonna create a <b>New()</b> func that will be in charge of returning the actual application based on our struct.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/vzd53ctkxru8l07sbfc6.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 19.15.15"></p>
<p>Now in our <code>main.go</code> file we can call this function and create a new app.
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jjcsandt5z6ftfck3my7.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 19.19.39"></p>
<p>Okay, the entry point of the app is structured, let&rsquo;s continue with the routing.</p>
<h2 id="routing">Routing</h2>
<p>Let&rsquo;s use the <strong>Router</strong> of our <strong>App</strong> that we defined before to implement basic routing.
In our <code>app.go</code> file we are going to create an <strong>InitRoutes</strong> func that will be called inside of our <strong>New()</strong> func when we create the application. This function will be a receiver of our <strong>App</strong>. Actually a lot of our methods we will be receivers from our app from now. Since our Router fields in our struct <strong>App</strong> is of type <a href="https://github.com/gorilla/mux">gorilla/mux</a> router we have access to it&rsquo;s methods.
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/35pw6fibi838duf996ih.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 19.26.38"></p>
<p>Let&rsquo;s very quickly replace the <strong>nil</strong> with a simple handler for our index route. For that create a <code>handlers.go</code> file in our package app. This is where we are going to store the handlers for our routes. I am going to create an <strong>IndexHandler()</strong> handler that will return an <strong>http.HandlerFunc</strong> printing a response &ldquo;Welcome to Post API&rdquo;.
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/8si7n2h7qcshwzz0z2sk.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 20.29.51"></p>
<p>Now let&rsquo;s call this handler in our route.
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/db260nodu9qccnqg6nlp.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 20.32.30"></p>
<p>Perfect, to test this out, we need to go back to the <code>main.go</code> file to serve the app on a port of our choice and the redirect it to our <strong>app Router</strong>. Also I&rsquo;ve made a check function to print help with error handling.
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ri0h3g9jp4suxxzv2fz2.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 20.37.45"></p>
<p>Ok, now we can run our app with <code>go run main.go</code> and curl the endpoint to see if we get a response.</p>
<pre tabindex="0"><code>curl http://localhost:9000
</code></pre><p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tyawg7ld5cuwy69c9pd3.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.51.19"></p>
<p>Cool, routing seems to be working!</p>
<h2 id="database">Database</h2>
<p>It is time to setup our database, I have chosen to go with <strong>PostgreSQL</strong>, to avoid local setup I&rsquo;ll be running my database on a <strong>Docker</strong> container.</p>
<p>I&rsquo;ll be using the following command:</p>
<pre tabindex="0"><code>docker run --name postapidb --env POSTGRES_PASSWORD=postgres -p 5432:5432 -d postgres
</code></pre><p><b>Note: </b> To stop you just need to run <code>docker stop postapidb</code> and to remove it <code>docker rm postapidb</code></p>
<p>Okay, now we have a database running let&rsquo;s jump to the code and create a new package <strong>database</strong> inside of our <strong>app</strong> package.</p>
<p>Let&rsquo;s create a <code>db.go</code> file and inside we are going to have an interface. I am going to call it <code>PostDB</code>, this interface it&rsquo;s like a contract (methods to implement) that we have to respect if we want our database to be a <strong>PostDB</strong> database. Let&rsquo;s start by saying that a <strong>PostDB</strong> should implement a <strong>Open()</strong> and a <strong>Close</strong> method that can return an error.</p>
<p>We are also going to have a <strong>DB</strong> structure like for our app that will have a single field db of type <a href="https://github.com/jmoiron/sqlx">sqlx DB</a> that is like a superset of <strong>database/sql</strong> from the Go standard library. Let&rsquo;s run a go get for <strong>sqlx</strong> and <strong>lib/pq</strong> (postgres sql driver) and then implement this.</p>
<pre tabindex="0"><code>go get -u github.com/jmoiron/sqlx
</code></pre><pre tabindex="0"><code>go get -u github.com/lib/pq
</code></pre><p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/31xyjyi2uctc8zvkarxy.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.13.57"></p>
<p>Now before writing the body of our <strong>Open()</strong> and <strong>Close()</strong> we can add a database fields to our App struct in <code>app.go</code> saying we are using a <strong>PostDB</strong> in this app üôÇ</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rki3arnu80ur6f1wtr91.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.17.00"></p>
<p>Moving on, starting with our <strong>Open</strong> method let&rsquo;s open a new connection to our postgres database.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/zecha3q8ha31s8ha19ce.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.24.52"></p>
<p>To establish this connection, the second argument of the <strong>sqlx.Open()</strong> method is a postgres connection string. Let&rsquo;s build this string in a seperate file called <code>config.go</code> still in the <strong>database</strong> package.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/w1ka5tankvtdv8y73zfo.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.27.58">
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/tcvounayf7an21c0w9xh.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.28.38"></p>
<p>Another thing I want to do is create a SQL schema that will be run after the connection. This schema will just create a table posts in our db in case there is not one. Let&rsquo;s add this to a <code>schemas.go</code> file.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/36q697vxqjz8r3ew1tck.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.00.14"></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/5a8bis3wvgy0d2b37ibc.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.33.21"></p>
<p>Our <strong>Close</strong> method will be a lot simpler. We just need call the method Close from <strong>sqlx</strong></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/q4pdx4l29pttdzsewzs8.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.35.26"></p>
<p>Before writing some methods for our data, let&rsquo;s jump to the <code>main.go</code> file and init the connection to the database.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/41ddpn562lk7ssqn0ct7.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.48.00"></p>
<p>Let&rsquo;s run <code>go run main.go</code></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/da9xd0pj9816sv09zeqq.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 21.50.25"></p>
<p>The database is configured but is not quite finished because I want to implement some methods (like CreatePost and GetPosts) but for that we first need a <strong>Post</strong> Model.</p>
<h2 id="models">Models</h2>
<p>Go ahead and create a new package <strong>models</strong> inside of the <strong>app</strong> package and create a <code>post.go</code> file. Inside of it we are going to have a <strong>Post</strong> struct with 4 fields.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/xjzu5byz4g84qsl6au6x.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.02.41"></p>
<p>Since this is a REST API we are later going to be mapping our responses to JSON and sometimes the fields from our database might not correspond to our json fields or maybe we want to have flexibility to add new fields or remove fields.
For that, let&rsquo;s already create a <strong>JsonPost</strong> struct to our file.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/fg7gekqhu019ie3tlua0.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.06.21"></p>
<p>Last thing I want to add to this file is going to be useful in a few seconds. When we add a post to our database the ID is auto incremented, meaning we do not have to pass the ID when making a request to create a new post. So let&rsquo;s create a <strong>PostRequest</strong> struct for that.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/ezhr6vq5budo850w7zzd.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.12.10"></p>
<p>Back to our database in our <code>db.go</code> file I want to add 2 methods to my <strong>PostDB</strong> interface, <strong>GetPosts</strong> and <strong>CreatePost</strong>.</p>
<p><b>Note: </b> I&rsquo;ll not be implementing all the REST verbs endpoints (trying to keep it short) just a simple GET and POST.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/irsd0apuo78dfnzoboeu.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.17.10"></p>
<p>In our <code>schemas.go</code> file I want to add a simple <strong>insertPostSchema</strong> for my <strong>CreatePost</strong> method.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jwmr7t2u6k3m6qcpmo25.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.58.42"></p>
<p>Let&rsquo;s create a <code>methods.go</code> file and write our methods.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/nwa5ua1bfzn7y0gd6kg2.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.22.10"></p>
<h2 id="http-handlers">Http Handlers</h2>
<p>Now that we have all of our methods to interact with our database, let&rsquo;s write our http handlers as we did before for the <strong>IndexHandler</strong>. In our <code>handlers.go</code> file let&rsquo;s start with the <strong>CreatePostHandler</strong>.</p>
<p>What we are going to do is initialize an empty <strong>PostRequest</strong> struct, the parse the request body that the user entered to that struct. To parse or map the request body I am going to write a helper func named simply <strong>parse</strong> that I will put in a <code>helpers.go</code> file.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/rvj2x42fwugw2mtucjiz.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.32.16"></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/o4i3cwy522duuede0xaq.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.34.00"></p>
<p>Once again, this is a <strong>REST API</strong> so it is good practice to send a http status. We are going to send a lot of responses with an http status, so I will write another helper func for this in the <code>helpers.go</code> file that sends a JSON response with a status.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/33tyvig5uj1zjha660li.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.38.57"></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/1m80tw737fytv4s1erd0.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.39.33"></p>
<p>By the way, remember we had a <strong>JsonPost</strong> struct in case we want that flexibility? Let&rsquo;s add a last helper function (<code>helpers.go</code>) just to map data to that struct.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/co46g0inerk3xbwnguep.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.45.26"></p>
<p>Continuing with the <strong>CreatePostHandler</strong>, now that we have parsed the request body we need to use that data to create a new post and save it in our database.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/jooeqjim7hrrthxkfcbo.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.56.09"></p>
<p>Now to finish the <strong>CreatePostHandler</strong> we just have to create a new route in our func <strong>initRoutes</strong> from our <code>app.go</code> file and call our handler.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/mxd0qjsr3v20zvrjqjmh.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 22.53.01"></p>
<p>Run <code>go run main.go</code> again and let&rsquo;s test this on <a href="https://insomnia.rest/download">Insomnia</a>.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/yvhjvwr3z11f1mljchr9.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.04.22"></p>
<p>Seems to be working üëçüèª</p>
<p>Before moving on to tests let&rsquo;s implement <strong>GetPostHandler</strong> that should be simpler.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/z5zdtl4uphqh597hys0q.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.14.36"></p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/4szi96lewtnvrkf88ac8.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.17.28"></p>
<p>Relaunch the app
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/77rcfy4anh6efupjwtgr.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.18.28"></p>
<p>Test with insomnia
<img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/bybknrhi2g43v68dza6p.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.19.25"></p>
<p>Perfect, this is working üôÇ</p>
<h2 id="tests">Tests</h2>
<p>It is also very good practice to test our code, that&rsquo;s why we need to try to add test coverage to our app. For that you can create a <strong>test</strong> package and add a test file for what you want to test, for example <code>handler_test.go</code> or <code>db_test.go</code>.</p>
<p><img src="https://dev-to-uploads.s3.amazonaws.com/uploads/articles/iaut5vm2hq4j7j5bc9ux.png" alt="Capture d‚ÄôeÃÅcran 2021-04-17 aÃÄ 23.23.39"></p>
<p>I have actually made a <a href="https://youtu.be/DaZDqRBIKCA">video</a> and wrote an <a href="https://dev.to/lucasnevespereira/implementing-testing-in-golang-4mcp">article</a> about implementing tests in Golang so you can can check those out üôÇ</p>
<h2 id="conclusion">Conclusion</h2>
<p>That&rsquo;s it! I am going to stop this article here, I know there is room for improvement but I wanted to keep this short and just talk about the foundation.</p>
<p>As always don&rsquo;t hesitate to give me feedback, the role of a developer today is to keep improving and that&rsquo;s what I want to do üôÇ</p>
<p>Don&rsquo;t hesitate to check my <em><a href="https://www.youtube.com/channel/UC7JqfPrr4nHKvbwLAdk-MgA">Youtube Channel</a></em>, you can also contact me on my <a href="https://twitter.com/lucaasnp_">twitter account</a> and of course I will link the <a href="https://github.com/lucasnevespereira/posts-rest-api">github repository</a> for this article.</p>
<p>See you soon! üëãüèª</p>
</div>
    </article>
  </main>
</div>
<footer class="footer">
  <span class="footer_item"> </span>
  &nbsp;

  <div class="footer_social-icons">
<a href="https://github.com/lucasnevespereira" target="_blank" rel="noopener noreferrer me"
    title="Github">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22">
    </path>
</svg>
</a>
<a href="https://twitter.com/lucaasnp_" target="_blank" rel="noopener noreferrer me"
    title="Twitter">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z">
    </path>
</svg>
</a>
<a href="https://www.youtube.com/@lucaasnp" target="_blank" rel="noopener noreferrer me"
    title="Youtube">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path
        d="M22.54 6.42a2.78 2.78 0 0 0-1.94-2C18.88 4 12 4 12 4s-6.88 0-8.6.46a2.78 2.78 0 0 0-1.94 2A29 29 0 0 0 1 11.75a29 29 0 0 0 .46 5.33A2.78 2.78 0 0 0 3.4 19c1.72.46 8.6.46 8.6.46s6.88 0 8.6-.46a2.78 2.78 0 0 0 1.94-2 29 29 0 0 0 .46-5.25 29 29 0 0 0-.46-5.33z">
    </path>
    <polygon points="9.75 15.02 15.5 11.75 9.75 8.48 9.75 15.02"></polygon>
</svg>
</a>
<a href="https://dev.to/lucasnevespereira" target="_blank" rel="noopener noreferrer me"
    title="Dev">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor" stroke="none">
    <path
        d="M7.42 10.05c-.18-.16-.46-.23-.84-.23H6l.02 2.44.04 2.45.56-.02c.41 0 .63-.07.83-.26.24-.24.26-.36.26-2.2 0-1.91-.02-1.96-.29-2.18zM0 4.94v14.12h24V4.94H0zM8.56 15.3c-.44.58-1.06.77-2.53.77H4.71V8.53h1.4c1.67 0 2.16.18 2.6.9.27.43.29.6.32 2.57.05 2.23-.02 2.73-.47 3.3zm5.09-5.47h-2.47v1.77h1.52v1.28l-.72.04-.75.03v1.77l1.22.03 1.2.04v1.28h-1.6c-1.53 0-1.6-.01-1.87-.3l-.3-.28v-3.16c0-3.02.01-3.18.25-3.48.23-.31.25-.31 1.88-.31h1.64v1.3zm4.68 5.45c-.17.43-.64.79-1 .79-.18 0-.45-.15-.67-.39-.32-.32-.45-.63-.82-2.08l-.9-3.39-.45-1.67h.76c.4 0 .75.02.75.05 0 .06 1.16 4.54 1.26 4.83.04.15.32-.7.73-2.3l.66-2.52.74-.04c.4-.02.73 0 .73.04 0 .14-1.67 6.38-1.8 6.68z" />
</svg>
</a>
<a href="https://www.linkedin.com/in/lucasnevespereira/" target="_blank" rel="noopener noreferrer me"
    title="Linkedin">
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2"
    stroke-linecap="round" stroke-linejoin="round">
    <path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path>
    <rect x="2" y="9" width="4" height="12"></rect>
    <circle cx="4" cy="4" r="2"></circle>
</svg>
</a>
</div>
  <small class="footer_copyright">
    ¬© 2023 Lucas Neves Pereira
  </small>
</footer>

<script src="/js/themeSwitchnMenu.min.0904267a815ebda73875ff409ca6223ffd3f37bf08383da61dd3411fd2ef8b90.js"></script>
</body>
</html>
